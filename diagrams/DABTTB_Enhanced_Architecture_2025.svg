<?xml version="1.0" encoding="UTF-8"?>
<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="aiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="gemmaGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="uiGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-color="#000000" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="600" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="28" font-weight="bold" fill="#2d3748">
    DABTTB System Architecture 2025
  </text>
  <text x="600" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" fill="#718096">
    Advanced AI-Powered Table Tennis Analytics with Streamlined UI
  </text>
  
  <!-- User Interface Layer -->
  <rect x="50" y="100" width="1100" height="120" rx="10" fill="url(#uiGradient)" filter="url(#shadow)"/>
  <text x="600" y="125" text-anchor="middle" font-family="Arial, sans-serif" font-size="18" font-weight="bold" fill="white">
    Streamlined User Interface Layer
  </text>
  
  <!-- Frontend Components -->
  <rect x="80" y="140" width="200" height="60" rx="5" fill="rgba(255,255,255,0.9)"/>
  <text x="180" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    Simplified Upload Interface
  </text>
  <text x="180" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Half-width, optimized UX
  </text>
  <text x="180" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Single analysis option
  </text>
  
  <rect x="320" y="140" width="200" height="60" rx="5" fill="rgba(255,255,255,0.9)"/>
  <text x="420" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    Enhanced Results Display
  </text>
  <text x="420" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Gemma enhancement section
  </text>
  <text x="420" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Real-time feedback
  </text>
  
  <rect x="560" y="140" width="200" height="60" rx="5" fill="rgba(255,255,255,0.9)"/>
  <text x="660" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    Professional Dashboard
  </text>
  <text x="660" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    6-panel visualization
  </text>
  <text x="660" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    University branding
  </text>
  
  <rect x="800" y="140" width="200" height="60" rx="5" fill="rgba(255,255,255,0.9)"/>
  <text x="900" y="160" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    3D Trajectory Cube
  </text>
  <text x="900" y="175" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Interactive visualization
  </text>
  <text x="900" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    Physics validation
  </text>
  
  <!-- API Gateway -->
  <rect x="50" y="250" width="1100" height="80" rx="10" fill="#e2e8f0" stroke="#cbd5e0" stroke-width="2"/>
  <text x="600" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2d3748">
    FastAPI Gateway with Enhanced Endpoints
  </text>
  <text x="300" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">
    /analyze (Standard)
  </text>
  <text x="500" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">
    /analytics/gemma-enhance/{video_id}
  </text>
  <text x="750" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">
    /analytics/trajectory/{video_id}
  </text>
  <text x="950" y="300" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#4a5568">
    Enhanced Dashboard APIs
  </text>
  
  <!-- Gemma-Enhanced AI Services Layer -->
  <rect x="50" y="360" width="1100" height="200" rx="10" fill="url(#gemmaGradient)" filter="url(#shadow)"/>
  <text x="600" y="385" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="white">
    ðŸ¤– Gemma-Enhanced AI Services Layer
  </text>
  
  <!-- AI Service Components -->
  <rect x="80" y="400" width="250" height="140" rx="8" fill="rgba(255,255,255,0.95)"/>
  <text x="205" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2d3748">
    Gemma 3N Multimodal AI
  </text>
  <text x="205" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Physics-based validation
  </text>
  <text x="205" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Context-aware filtering
  </text>
  <text x="205" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Table tennis domain knowledge
  </text>
  <text x="205" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Intelligent gap filling
  </text>
  <text x="205" y="500" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Trajectory smoothing
  </text>
  <text x="205" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#e53e3e">
    Enhancement Engine
  </text>
  
  <rect x="360" y="400" width="200" height="140" rx="8" fill="rgba(255,255,255,0.95)"/>
  <text x="460" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2d3748">
    YOLO11 Detection
  </text>
  <text x="460" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ State-of-the-art detection
  </text>
  <text x="460" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Confidence scoring
  </text>
  <text x="460" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Real-time processing
  </text>
  <text x="460" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ GPU acceleration
  </text>
  <text x="460" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#3182ce">
    Base Detection
  </text>
  
  <rect x="590" y="400" width="200" height="140" rx="8" fill="rgba(255,255,255,0.95)"/>
  <text x="690" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2d3748">
    Data Quality Pipeline
  </text>
  <text x="690" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Outlier detection
  </text>
  <text x="690" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Single ball enforcement
  </text>
  <text x="690" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Confidence filtering
  </text>
  <text x="690" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Physics validation
  </text>
  <text x="690" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#38a169">
    Quality Assurance
  </text>
  
  <rect x="820" y="400" width="250" height="140" rx="8" fill="rgba(255,255,255,0.95)"/>
  <text x="945" y="420" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#2d3748">
    Enhanced Analytics Engine
  </text>
  <text x="945" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ 6-panel dashboard generation
  </text>
  <text x="945" y="455" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ 3D trajectory visualization
  </text>
  <text x="945" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Detection method tracking
  </text>
  <text x="945" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#4a5568">
    â€¢ Physics vs context scoring
  </text>
  <text x="945" y="520" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="#805ad5">
    Visualization Engine
  </text>
  
  <!-- Data Layer -->
  <rect x="50" y="590" width="1100" height="120" rx="10" fill="#4a5568" filter="url(#shadow)"/>
  <text x="600" y="615" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    DABTTB Data Layer
  </text>
  
  <!-- Database Components -->
  <rect x="80" y="635" width="180" height="60" rx="5" fill="rgba(255,255,255,0.95)"/>
  <text x="170" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    DuckDB Analytics
  </text>
  <text x="170" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Video metadata
  </text>
  <text x="170" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Frame analysis
  </text>
  <text x="170" y="691" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Performance metrics
  </text>
  
  <rect x="280" y="635" width="180" height="60" rx="5" fill="rgba(255,255,255,0.95)"/>
  <text x="370" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    AI Detections Schema
  </text>
  <text x="370" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ YOLO detections
  </text>
  <text x="370" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Gemma validations
  </text>
  <text x="370" y="691" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Detection methods
  </text>
  
  <rect x="480" y="635" width="180" height="60" rx="5" fill="rgba(255,255,255,0.95)"/>
  <text x="570" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    Physics Validation
  </text>
  <text x="570" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Physics scores
  </text>
  <text x="570" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Context scores
  </text>
  <text x="570" y="691" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Trajectory data
  </text>
  
  <rect x="680" y="635" width="180" height="60" rx="5" fill="rgba(255,255,255,0.95)"/>
  <text x="770" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    Analytics Storage
  </text>
  <text x="770" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Dashboard images
  </text>
  <text x="770" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ 3D visualizations
  </text>
  <text x="770" y="691" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Export data
  </text>
  
  <rect x="880" y="635" width="180" height="60" rx="5" fill="rgba(255,255,255,0.95)"/>
  <text x="970" y="650" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#2d3748">
    System Resources
  </text>
  <text x="970" y="665" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ GPU acceleration
  </text>
  <text x="970" y="678" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Volume persistence
  </text>
  <text x="970" y="691" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#4a5568">
    â€¢ Model storage
  </text>
  
  <!-- Infrastructure -->
  <rect x="50" y="700" width="1100" height="60" rx="10" fill="#2d3748"/>
  <text x="600" y="720" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
    Docker Infrastructure with NVIDIA GPU Runtime
  </text>
  <text x="300" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a0aec0">
    AI Service Container
  </text>
  <text x="500" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a0aec0">
    Frontend Container
  </text>
  <text x="700" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a0aec0">
    Nginx Proxy
  </text>
  <text x="900" y="740" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#a0aec0">
    Volume Persistence
  </text>
  
  <!-- Flow Arrows -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4a5568"/>
    </marker>
  </defs>
  
  <!-- Vertical flow arrows -->
  <line x1="600" y1="220" x2="600" y2="250" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="330" x2="600" y2="360" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="560" x2="600" y2="590" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  <line x1="600" y1="670" x2="600" y2="700" stroke="#4a5568" stroke-width="3" marker-end="url(#arrowhead)"/>
  
  <!-- Academic Branding -->
  <text x="1150" y="780" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#718096">
    London South Bank University
  </text>
  <text x="1150" y="795" text-anchor="end" font-family="Arial, sans-serif" font-size="10" fill="#718096">
    BSc Computer Systems Engineering
  </text>
</svg>
